{"ast":null,"code":"var _jsxFileName = \"/home/harry/project_thea/src/components/map.js\";\nimport React from \"react\";\nimport ReactMapGL, { Popup } from \"react-map-gl\";\nimport { SensorIcon, SensorBite } from \"./sensor\";\nimport { Sensor_data } from \"../fake_data/sensor_data\";\n\nclass Map extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this._updateViewport = viewport => {\n      this.setState({\n        viewport\n      });\n    };\n\n    this._onClickMarker = city => {\n      this.setState({\n        popupInfo: city\n      });\n    };\n\n    this.state = {\n      viewport: {\n        width: \"100%\",\n        height: \"100vh\",\n        latitude: 51.5084,\n        longitude: -2.5927,\n        zoom: 16\n      }\n    }; // Bind all handler functions.\n\n    this.handleRemoveSensor = this.handleRemoveSensor.bind(this);\n  } // Call back function to remove a sensor from the browser.\n\n\n  handleRemoveSensor(id) {\n    Sensor_data = Sensor_data.filter(tab => tab.id !== id);\n  }\n\n  _renderPopup() {\n    const popupInfo = this.state.popupInfo;\n    return popupInfo && React.createElement(Popup, {\n      tipSize: 5,\n      anchor: \"top\",\n      longitude: popupInfo.longitude,\n      latitude: popupInfo.latitude,\n      closeOnClick: false,\n      onClose: () => this.setState({\n        popupInfo: null\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, React.createElement(SensorBite, {\n      info: popupInfo,\n      add_tab_cb: this.props.add_tab_cb,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }));\n  }\n\n  render() {\n    return React.createElement(ReactMapGL, Object.assign({}, this.state.viewport, {\n      onViewportChange: viewport => this.setState({\n        viewport\n      }),\n      mapStyle: \"mapbox://styles/hturner30/ck62e8klf0xzn1ithmmtve3iq\",\n      mapboxApiAccessToken: \"pk.eyJ1IjoiaHR1cm5lcjMwIiwiYSI6ImNrNjJhZWFkdjBiNnMzbm1tNHh1cDNlMWsifQ.0ZiYTbXUCbaJ2mxlibJjDg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }), this.state.viewport.zoom >= 15 ? React.createElement(SensorIcon, {\n      data: Sensor_data,\n      onClick: this._onClickMarker,\n      handleRemoveCallback: this.handleRemoveSensor,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }) : null, this._renderPopup());\n  }\n\n}\n\nexport { Map };","map":{"version":3,"sources":["/home/harry/project_thea/src/components/map.js"],"names":["React","ReactMapGL","Popup","SensorIcon","SensorBite","Sensor_data","Map","Component","constructor","props","_updateViewport","viewport","setState","_onClickMarker","city","popupInfo","state","width","height","latitude","longitude","zoom","handleRemoveSensor","bind","id","filter","tab","_renderPopup","add_tab_cb","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,UAAP,IAAoBC,KAApB,QAAgC,cAAhC;AACA,SAAQC,UAAR,EAAoBC,UAApB,QAAqC,UAArC;AACA,SAASC,WAAT,QAA4B,0BAA5B;;AAEA,MAAMC,GAAN,SAAkBN,KAAK,CAACO,SAAxB,CAAkC;AAEhCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACb,UAAMA,KAAN;;AADa,SAqBnBC,eArBmB,GAqBDC,QAAQ,IAAI;AAC5B,WAAKC,QAAL,CAAc;AAACD,QAAAA;AAAD,OAAd;AACD,KAvBkB;;AAAA,SAyBnBE,cAzBmB,GAyBFC,IAAI,IAAI;AACvB,WAAKF,QAAL,CAAc;AAACG,QAAAA,SAAS,EAAED;AAAZ,OAAd;AACD,KA3BkB;;AAEb,SAAKE,KAAL,GAAa;AACXL,MAAAA,QAAQ,EAAE;AACRM,QAAAA,KAAK,EAAE,MADC;AAERC,QAAAA,MAAM,EAAE,OAFA;AAGRC,QAAAA,QAAQ,EAAE,OAHF;AAIRC,QAAAA,SAAS,EAAE,CAAC,MAJJ;AAKRC,QAAAA,IAAI,EAAE;AALE;AADC,KAAb,CAFa,CAYb;;AACA,SAAKC,kBAAL,GAA0B,KAAKA,kBAAL,CAAwBC,IAAxB,CAA6B,IAA7B,CAA1B;AACH,GAhB6B,CAkB9B;;;AACAD,EAAAA,kBAAkB,CAAEE,EAAF,EAAM;AACtBnB,IAAAA,WAAW,GAAGA,WAAW,CAACoB,MAAZ,CAAmBC,GAAG,IAAIA,GAAG,CAACF,EAAJ,KAAWA,EAArC,CAAd;AACD;;AAUHG,EAAAA,YAAY,GAAG;AAAA,UACNZ,SADM,GACO,KAAKC,KADZ,CACND,SADM;AAGb,WACEA,SAAS,IACP,oBAAC,KAAD;AACE,MAAA,OAAO,EAAE,CADX;AAEE,MAAA,MAAM,EAAC,KAFT;AAGE,MAAA,SAAS,EAAEA,SAAS,CAACK,SAHvB;AAIE,MAAA,QAAQ,EAAEL,SAAS,CAACI,QAJtB;AAKE,MAAA,YAAY,EAAE,KALhB;AAME,MAAA,OAAO,EAAE,MAAM,KAAKP,QAAL,CAAc;AAACG,QAAAA,SAAS,EAAE;AAAZ,OAAd,CANjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAQE,oBAAC,UAAD;AACI,MAAA,IAAI,EAAEA,SADV;AAEI,MAAA,UAAU,EAAE,KAAKN,KAAL,CAAWmB,UAF3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MARF,CAFJ;AAiBD;;AAEDC,EAAAA,MAAM,GAAG;AACP,WACE,oBAAC,UAAD,oBACM,KAAKb,KAAL,CAAWL,QADjB;AAEE,MAAA,gBAAgB,EAAGA,QAAD,IAAc,KAAKC,QAAL,CAAc;AAACD,QAAAA;AAAD,OAAd,CAFlC;AAGE,MAAA,QAAQ,EAAC,qDAHX;AAIE,MAAA,oBAAoB,EAAC,8FAJvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAMM,KAAKK,KAAL,CAAWL,QAAX,CAAoBU,IAApB,IAA4B,EAA7B,GACK,oBAAC,UAAD;AACE,MAAA,IAAI,EAAEhB,WADR;AAEE,MAAA,OAAO,EAAE,KAAKQ,cAFhB;AAGE,MAAA,oBAAoB,EAAE,KAAKS,kBAH7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADL,GAKK,IAXV,EAaK,KAAKK,YAAL,EAbL,CADF;AAiBD;;AAvE+B;;AA0ElC,SAASrB,GAAT","sourcesContent":["import React from \"react\";\nimport ReactMapGL, {Popup} from \"react-map-gl\";\nimport {SensorIcon, SensorBite} from \"./sensor\";\nimport { Sensor_data } from \"../fake_data/sensor_data\";\n\nclass Map extends React.Component {\n\n  constructor(props) {\n        super(props);\n        this.state = {\n          viewport: {\n            width: \"100%\",\n            height: \"100vh\",\n            latitude: 51.5084,\n            longitude: -2.5927,\n            zoom: 16\n          }\n        };\n\n        // Bind all handler functions.\n        this.handleRemoveSensor = this.handleRemoveSensor.bind(this)\n    }\n\n    // Call back function to remove a sensor from the browser.\n    handleRemoveSensor (id) {\n      Sensor_data = Sensor_data.filter(tab => tab.id !== id);\n    }\n\n  _updateViewport = viewport => {\n    this.setState({viewport});\n  };\n\n  _onClickMarker = city => {\n    this.setState({popupInfo: city});\n  };\n\n  _renderPopup() {\n    const {popupInfo} = this.state;\n\n    return (\n      popupInfo && (\n        <Popup\n          tipSize={5}\n          anchor=\"top\"\n          longitude={popupInfo.longitude}\n          latitude={popupInfo.latitude}\n          closeOnClick={false}\n          onClose={() => this.setState({popupInfo: null})}\n        >\n          <SensorBite\n              info={popupInfo}\n              add_tab_cb={this.props.add_tab_cb}\n          />\n        </Popup>\n      )\n    );\n  }\n\n  render() {\n    return (\n      <ReactMapGL\n        {...this.state.viewport}\n        onViewportChange={(viewport) => this.setState({viewport})}\n        mapStyle='mapbox://styles/hturner30/ck62e8klf0xzn1ithmmtve3iq'\n        mapboxApiAccessToken='pk.eyJ1IjoiaHR1cm5lcjMwIiwiYSI6ImNrNjJhZWFkdjBiNnMzbm1tNHh1cDNlMWsifQ.0ZiYTbXUCbaJ2mxlibJjDg'\n      >\n          {(this.state.viewport.zoom >= 15)\n              ? <SensorIcon\n                  data={Sensor_data}\n                  onClick={this._onClickMarker}\n                  handleRemoveCallback={this.handleRemoveSensor}/>\n              : null\n          }\n          {this._renderPopup()}\n      </ReactMapGL>\n    );\n  }\n}\n\nexport { Map };"]},"metadata":{},"sourceType":"module"}