{"ast":null,"code":"var _jsxFileName = \"/home/harry/pu_frontend/src/components/map.js\";\nimport React from \"react\";\nimport ReactMapGL, { Popup } from \"react-map-gl\";\nimport { SensorIcon, SensorInfo } from \"./sensor\";\nimport SENSORS from \"../fake_data/sensors\";\n\nclass Map extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      viewport: {\n        width: \"100%\",\n        height: 1000,\n        latitude: 51.5084,\n        longitude: -2.5927,\n        zoom: 16\n      }\n    };\n\n    this._updateViewport = viewport => {\n      this.setState({\n        viewport\n      });\n    };\n\n    this._onClickMarker = city => {\n      this.setState({\n        popupInfo: city\n      });\n    };\n  }\n\n  _renderPopup() {\n    const popupInfo = this.state.popupInfo;\n    return popupInfo && React.createElement(Popup, {\n      tipSize: 5,\n      anchor: \"top\",\n      longitude: popupInfo.longitude,\n      latitude: popupInfo.latitude,\n      closeOnClick: false,\n      onClose: () => this.setState({\n        popupInfo: null\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32\n      },\n      __self: this\n    }, React.createElement(SensorInfo, {\n      info: popupInfo,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }));\n  }\n\n  render() {\n    return React.createElement(ReactMapGL, Object.assign({}, this.state.viewport, {\n      onViewportChange: viewport => this.setState({\n        viewport\n      }),\n      mapStyle: \"mapbox://styles/hturner30/ck62e8klf0xzn1ithmmtve3iq\",\n      mapboxApiAccessToken: \"pk.eyJ1IjoiaHR1cm5lcjMwIiwiYSI6ImNrNjJhZWFkdjBiNnMzbm1tNHh1cDNlMWsifQ.0ZiYTbXUCbaJ2mxlibJjDg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }), this.state.viewport.zoom >= 15 ? React.createElement(SensorIcon, {\n      data: SENSORS,\n      onClick: this._onClickMarker,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }) : null, this._renderPopup());\n  }\n\n}\n\nexport { Map };","map":{"version":3,"sources":["/home/harry/pu_frontend/src/components/map.js"],"names":["React","ReactMapGL","Popup","SensorIcon","SensorInfo","SENSORS","Map","Component","state","viewport","width","height","latitude","longitude","zoom","_updateViewport","setState","_onClickMarker","city","popupInfo","_renderPopup","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,UAAP,IAAoBC,KAApB,QAAgC,cAAhC;AACA,SAAQC,UAAR,EAAoBC,UAApB,QAAqC,UAArC;AACA,OAAOC,OAAP,MAAoB,sBAApB;;AAGA,MAAMC,GAAN,SAAkBN,KAAK,CAACO,SAAxB,CAAkC;AAAA;AAAA;AAAA,SAEhCC,KAFgC,GAExB;AACNC,MAAAA,QAAQ,EAAE;AACRC,QAAAA,KAAK,EAAE,MADC;AAERC,QAAAA,MAAM,EAAE,IAFA;AAGRC,QAAAA,QAAQ,EAAE,OAHF;AAIRC,QAAAA,SAAS,EAAE,CAAC,MAJJ;AAKRC,QAAAA,IAAI,EAAE;AALE;AADJ,KAFwB;;AAAA,SAYhCC,eAZgC,GAYdN,QAAQ,IAAI;AAC5B,WAAKO,QAAL,CAAc;AAACP,QAAAA;AAAD,OAAd;AACD,KAd+B;;AAAA,SAgBhCQ,cAhBgC,GAgBfC,IAAI,IAAI;AACvB,WAAKF,QAAL,CAAc;AAACG,QAAAA,SAAS,EAAED;AAAZ,OAAd;AACD,KAlB+B;AAAA;;AAoBhCE,EAAAA,YAAY,GAAG;AAAA,UACND,SADM,GACO,KAAKX,KADZ,CACNW,SADM;AAGb,WACEA,SAAS,IACP,oBAAC,KAAD;AACE,MAAA,OAAO,EAAE,CADX;AAEE,MAAA,MAAM,EAAC,KAFT;AAGE,MAAA,SAAS,EAAEA,SAAS,CAACN,SAHvB;AAIE,MAAA,QAAQ,EAAEM,SAAS,CAACP,QAJtB;AAKE,MAAA,YAAY,EAAE,KALhB;AAME,MAAA,OAAO,EAAE,MAAM,KAAKI,QAAL,CAAc;AAACG,QAAAA,SAAS,EAAE;AAAZ,OAAd,CANjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAQE,oBAAC,UAAD;AAAY,MAAA,IAAI,EAAEA,SAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MARF,CAFJ;AAcD;;AAEDE,EAAAA,MAAM,GAAG;AACP,WACE,oBAAC,UAAD,oBACM,KAAKb,KAAL,CAAWC,QADjB;AAEE,MAAA,gBAAgB,EAAGA,QAAD,IAAc,KAAKO,QAAL,CAAc;AAACP,QAAAA;AAAD,OAAd,CAFlC;AAGE,MAAA,QAAQ,EAAC,qDAHX;AAIE,MAAA,oBAAoB,EAAC,8FAJvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAMM,KAAKD,KAAL,CAAWC,QAAX,CAAoBK,IAApB,IAA4B,EAA7B,GACK,oBAAC,UAAD;AAAY,MAAA,IAAI,EAAET,OAAlB;AAA2B,MAAA,OAAO,EAAE,KAAKY,cAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADL,GAEK,IARV,EAUK,KAAKG,YAAL,EAVL,CADF;AAcD;;AAtD+B;;AAyDlC,SAASd,GAAT","sourcesContent":["import React from \"react\";\nimport ReactMapGL, {Popup} from \"react-map-gl\";\nimport {SensorIcon, SensorInfo} from \"./sensor\";\nimport SENSORS from \"../fake_data/sensors\";\n\n\nclass Map extends React.Component {\n\n  state = {\n    viewport: {\n      width: \"100%\",\n      height: 1000,\n      latitude: 51.5084,\n      longitude: -2.5927,\n      zoom: 16\n    }\n  };\n\n  _updateViewport = viewport => {\n    this.setState({viewport});\n  };\n\n  _onClickMarker = city => {\n    this.setState({popupInfo: city});\n  };\n\n  _renderPopup() {\n    const {popupInfo} = this.state;\n\n    return (\n      popupInfo && (\n        <Popup\n          tipSize={5}\n          anchor=\"top\"\n          longitude={popupInfo.longitude}\n          latitude={popupInfo.latitude}\n          closeOnClick={false}\n          onClose={() => this.setState({popupInfo: null})}\n        >\n          <SensorInfo info={popupInfo} />\n        </Popup>\n      )\n    );\n  }\n\n  render() {\n    return (\n      <ReactMapGL\n        {...this.state.viewport}\n        onViewportChange={(viewport) => this.setState({viewport})}\n        mapStyle='mapbox://styles/hturner30/ck62e8klf0xzn1ithmmtve3iq'\n        mapboxApiAccessToken='pk.eyJ1IjoiaHR1cm5lcjMwIiwiYSI6ImNrNjJhZWFkdjBiNnMzbm1tNHh1cDNlMWsifQ.0ZiYTbXUCbaJ2mxlibJjDg'\n      >\n          {(this.state.viewport.zoom >= 15)\n              ? <SensorIcon data={SENSORS} onClick={this._onClickMarker}/>\n              : null\n          }\n          {this._renderPopup()}\n      </ReactMapGL>\n    );\n  }\n}\n\nexport { Map };"]},"metadata":{},"sourceType":"module"}