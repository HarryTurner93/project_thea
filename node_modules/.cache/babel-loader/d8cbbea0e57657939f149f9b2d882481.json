{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactDom = _interopRequireDefault(require(\"react-dom\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _reactDraggable = require(\"react-draggable\");\n\nvar _reactResizable = require(\"react-resizable\");\n\nvar _utils = require(\"./utils\");\n\nvar _calculateUtils = require(\"./calculateUtils\");\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n/**\n * An individual item within a ReactGridLayout.\n */\n\n\nvar GridItem =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(GridItem, _React$Component);\n\n  function GridItem() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, GridItem);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(GridItem)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      resizing: null,\n      dragging: null,\n      className: \"\"\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"currentNode\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"onDragStart\", function (e\n    /*: Event*/\n    , _ref) {\n      var node = _ref.node;\n      if (!_this.props.onDragStart) return;\n      var newPosition\n      /*: PartialPosition*/\n      = {\n        top: 0,\n        left: 0\n      }; // TODO: this wont work on nested parents\n\n      var offsetParent = node.offsetParent;\n      if (!offsetParent) return;\n      var parentRect = offsetParent.getBoundingClientRect();\n      var clientRect = node.getBoundingClientRect();\n      var cLeft = clientRect.left / _this.props.transformScale;\n      var pLeft = parentRect.left / _this.props.transformScale;\n      var cTop = clientRect.top / _this.props.transformScale;\n      var pTop = parentRect.top / _this.props.transformScale;\n      newPosition.left = cLeft - pLeft + offsetParent.scrollLeft;\n      newPosition.top = cTop - pTop + offsetParent.scrollTop;\n\n      _this.setState({\n        dragging: newPosition\n      });\n\n      var _calcXY = (0, _calculateUtils.calcXY)(_this.getPositionParams(), newPosition.top, newPosition.left, _this.props.w, _this.props.h),\n          x = _calcXY.x,\n          y = _calcXY.y;\n\n      return _this.props.onDragStart && _this.props.onDragStart.call(_assertThisInitialized(_this), _this.props.i, x, y, {\n        e: e,\n        node: node,\n        newPosition: newPosition\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDrag\", function (e\n    /*: Event*/\n    , _ref2) {\n      var node = _ref2.node,\n          deltaX = _ref2.deltaX,\n          deltaY = _ref2.deltaY;\n      var _this$props = _this.props,\n          onDrag = _this$props.onDrag,\n          transformScale = _this$props.transformScale;\n      if (!onDrag) return;\n      deltaX /= transformScale;\n      deltaY /= transformScale;\n      var newPosition\n      /*: PartialPosition*/\n      = {\n        top: 0,\n        left: 0\n      };\n      if (!_this.state.dragging) throw new Error(\"onDrag called before onDragStart.\");\n      newPosition.left = _this.state.dragging.left + deltaX;\n      newPosition.top = _this.state.dragging.top + deltaY;\n\n      _this.setState({\n        dragging: newPosition\n      });\n\n      var _calcXY2 = (0, _calculateUtils.calcXY)(_this.getPositionParams(), newPosition.top, newPosition.left, _this.props.w, _this.props.h),\n          x = _calcXY2.x,\n          y = _calcXY2.y;\n\n      return onDrag && onDrag.call(_assertThisInitialized(_this), _this.props.i, x, y, {\n        e: e,\n        node: node,\n        newPosition: newPosition\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDragStop\", function (e\n    /*: Event*/\n    , _ref3) {\n      var node = _ref3.node;\n      if (!_this.props.onDragStop) return;\n      var newPosition\n      /*: PartialPosition*/\n      = {\n        top: 0,\n        left: 0\n      };\n      if (!_this.state.dragging) throw new Error(\"onDragEnd called before onDragStart.\");\n      newPosition.left = _this.state.dragging.left;\n      newPosition.top = _this.state.dragging.top;\n\n      _this.setState({\n        dragging: null\n      });\n\n      var _calcXY3 = (0, _calculateUtils.calcXY)(_this.getPositionParams(), newPosition.top, newPosition.left, _this.props.w, _this.props.h),\n          x = _calcXY3.x,\n          y = _calcXY3.y;\n\n      return _this.props.onDragStop && _this.props.onDragStop.call(_assertThisInitialized(_this), _this.props.i, x, y, {\n        e: e,\n        node: node,\n        newPosition: newPosition\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onResizeStop\", function (e\n    /*: Event*/\n    , callbackData\n    /*: { node: HTMLElement, size: Position }*/\n    ) {\n      _this.onResizeHandler(e, callbackData, \"onResizeStop\");\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onResizeStart\", function (e\n    /*: Event*/\n    , callbackData\n    /*: { node: HTMLElement, size: Position }*/\n    ) {\n      _this.onResizeHandler(e, callbackData, \"onResizeStart\");\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onResize\", function (e\n    /*: Event*/\n    , callbackData\n    /*: { node: HTMLElement, size: Position }*/\n    ) {\n      _this.onResizeHandler(e, callbackData, \"onResize\");\n    });\n\n    return _this;\n  }\n\n  _createClass(GridItem, [{\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps\n    /*: Props*/\n    , nextState\n    /*: State*/\n    ) {\n      // We can't deeply compare children. If the developer memoizes them, we can\n      // use this optimization.\n      if (this.props.children !== nextProps.children) return true; // TODO memoize these calculations so they don't take so long?\n\n      var oldPosition = (0, _calculateUtils.calcGridItemPosition)(this.getPositionParams(this.props), this.props.x, this.props.y, this.props.w, this.props.h, this.state);\n      var newPosition = (0, _calculateUtils.calcGridItemPosition)(this.getPositionParams(nextProps), nextProps.x, nextProps.y, nextProps.w, nextProps.h, nextState);\n      return !(0, _utils.fastPositionEqual)(oldPosition, newPosition) || this.props.useCSSTransforms !== nextProps.useCSSTransforms;\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps\n    /*: Props*/\n    ) {\n      this.moveDroppingItem(prevProps);\n    } // When a droppingPosition is present, this means we should fire a move event, as if we had moved\n    // this element by `x, y` pixels.\n\n  }, {\n    key: \"moveDroppingItem\",\n    value: function moveDroppingItem(prevProps\n    /*: Props*/\n    ) {\n      var droppingPosition = this.props.droppingPosition;\n      var prevDroppingPosition = prevProps.droppingPosition;\n      var dragging = this.state.dragging;\n\n      if (!droppingPosition || !prevDroppingPosition) {\n        return;\n      }\n\n      if (!this.currentNode) {\n        // eslint-disable-next-line react/no-find-dom-node\n        this.currentNode = _reactDom.default.findDOMNode(this)\n        /*: any*/\n        ;\n      }\n\n      var shouldDrag = dragging && droppingPosition.left !== prevDroppingPosition.left || droppingPosition.top !== prevDroppingPosition.top;\n\n      if (!dragging) {\n        this.onDragStart(droppingPosition.e, {\n          node: this.currentNode,\n          deltaX: droppingPosition.left,\n          deltaY: droppingPosition.top\n        });\n      } else if (shouldDrag) {\n        var deltaX = droppingPosition.left - dragging.left;\n        var deltaY = droppingPosition.top - dragging.top;\n        this.onDrag(droppingPosition.e, {\n          node: this.currentNode,\n          deltaX: deltaX,\n          deltaY: deltaY\n        });\n      }\n    }\n  }, {\n    key: \"getPositionParams\",\n    value: function getPositionParams()\n    /*: PositionParams*/\n    {\n      var props\n      /*: Props*/\n      = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      return {\n        cols: props.cols,\n        containerPadding: props.containerPadding,\n        containerWidth: props.containerWidth,\n        margin: props.margin,\n        maxRows: props.maxRows,\n        rowHeight: props.rowHeight\n      };\n    }\n    /**\n     * This is where we set the grid item's absolute placement. It gets a little tricky because we want to do it\n     * well when server rendering, and the only way to do that properly is to use percentage width/left because\n     * we don't know exactly what the browser viewport is.\n     * Unfortunately, CSS Transforms, which are great for performance, break in this instance because a percentage\n     * left is relative to the item itself, not its container! So we cannot use them on the server rendering pass.\n     *\n     * @param  {Object} pos Position object with width, height, left, top.\n     * @return {Object}     Style object.\n     */\n\n  }, {\n    key: \"createStyle\",\n    value: function createStyle(pos\n    /*: Position*/\n    )\n    /*: { [key: string]: ?string }*/\n    {\n      var _this$props2 = this.props,\n          usePercentages = _this$props2.usePercentages,\n          containerWidth = _this$props2.containerWidth,\n          useCSSTransforms = _this$props2.useCSSTransforms;\n      var style; // CSS Transforms support (default)\n\n      if (useCSSTransforms) {\n        style = (0, _utils.setTransform)(pos);\n      } else {\n        // top,left (slow)\n        style = (0, _utils.setTopLeft)(pos); // This is used for server rendering.\n\n        if (usePercentages) {\n          style.left = (0, _utils.perc)(pos.left / containerWidth);\n          style.width = (0, _utils.perc)(pos.width / containerWidth);\n        }\n      }\n\n      return style;\n    }\n    /**\n     * Mix a Draggable instance into a child.\n     * @param  {Element} child    Child element.\n     * @return {Element}          Child wrapped in Draggable.\n     */\n\n  }, {\n    key: \"mixinDraggable\",\n    value: function mixinDraggable(child\n    /*: ReactElement<any>*/\n    , isDraggable\n    /*: boolean*/\n    )\n    /*: ReactElement<any>*/\n    {\n      return _react.default.createElement(_reactDraggable.DraggableCore, {\n        disabled: !isDraggable,\n        onStart: this.onDragStart,\n        onDrag: this.onDrag,\n        onStop: this.onDragStop,\n        handle: this.props.handle,\n        cancel: \".react-resizable-handle\" + (this.props.cancel ? \",\" + this.props.cancel : \"\"),\n        scale: this.props.transformScale\n      }, child);\n    }\n    /**\n     * Mix a Resizable instance into a child.\n     * @param  {Element} child    Child element.\n     * @param  {Object} position  Position object (pixel values)\n     * @return {Element}          Child wrapped in Resizable.\n     */\n\n  }, {\n    key: \"mixinResizable\",\n    value: function mixinResizable(child\n    /*: ReactElement<any>*/\n    , position\n    /*: Position*/\n    , isResizable\n    /*: boolean*/\n    )\n    /*: ReactElement<any>*/\n    {\n      var _this$props3 = this.props,\n          cols = _this$props3.cols,\n          x = _this$props3.x,\n          minW = _this$props3.minW,\n          minH = _this$props3.minH,\n          maxW = _this$props3.maxW,\n          maxH = _this$props3.maxH,\n          transformScale = _this$props3.transformScale;\n      var positionParams = this.getPositionParams(); // This is the max possible width - doesn't go to infinity because of the width of the window\n\n      var maxWidth = (0, _calculateUtils.calcGridItemPosition)(positionParams, 0, 0, cols - x, 0).width; // Calculate min/max constraints using our min & maxes\n\n      var mins = (0, _calculateUtils.calcGridItemPosition)(positionParams, 0, 0, minW, minH);\n      var maxes = (0, _calculateUtils.calcGridItemPosition)(positionParams, 0, 0, maxW, maxH);\n      var minConstraints = [mins.width, mins.height];\n      var maxConstraints = [Math.min(maxes.width, maxWidth), Math.min(maxes.height, Infinity)];\n      return _react.default.createElement(_reactResizable.Resizable, {\n        draggableOpts: {\n          disabled: !isResizable\n        },\n        className: isResizable ? undefined : \"react-resizable-hide\",\n        width: position.width,\n        height: position.height,\n        minConstraints: minConstraints,\n        maxConstraints: maxConstraints,\n        onResizeStop: this.onResizeStop,\n        onResizeStart: this.onResizeStart,\n        onResize: this.onResize,\n        transformScale: transformScale\n      }, child);\n    }\n    /**\n     * onDragStart event handler\n     * @param  {Event}  e             event data\n     * @param  {Object} callbackData  an object with node, delta and position information\n     */\n\n  }, {\n    key: \"onResizeHandler\",\n\n    /**\n     * Wrapper around drag events to provide more useful data.\n     * All drag events call the function with the given handler name,\n     * with the signature (index, x, y).\n     *\n     * @param  {String} handlerName Handler name to wrap.\n     * @return {Function}           Handler function.\n     */\n    value: function onResizeHandler(e\n    /*: Event*/\n    , _ref4, handlerName\n    /*: string*/\n    ) {\n      var node = _ref4.node,\n          size = _ref4.size;\n      var handler = this.props[handlerName];\n      if (!handler) return;\n      var _this$props4 = this.props,\n          cols = _this$props4.cols,\n          x = _this$props4.x,\n          y = _this$props4.y,\n          i = _this$props4.i,\n          maxW = _this$props4.maxW,\n          minW = _this$props4.minW,\n          maxH = _this$props4.maxH,\n          minH = _this$props4.minH; // Get new XY\n\n      var _calcWH = (0, _calculateUtils.calcWH)(this.getPositionParams(), size.width, size.height, x, y),\n          w = _calcWH.w,\n          h = _calcWH.h; // Cap w at numCols\n\n\n      w = Math.min(w, cols - x); // Ensure w is at least 1\n\n      w = Math.max(w, 1); // Min/max capping\n\n      w = Math.max(Math.min(w, maxW), minW);\n      h = Math.max(Math.min(h, maxH), minH);\n      this.setState({\n        resizing: handlerName === \"onResizeStop\" ? null : size\n      });\n      handler.call(this, i, w, h, {\n        e: e,\n        node: node,\n        size: size\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render()\n    /*: ReactNode*/\n    {\n      var _this$props5 = this.props,\n          x = _this$props5.x,\n          y = _this$props5.y,\n          w = _this$props5.w,\n          h = _this$props5.h,\n          isDraggable = _this$props5.isDraggable,\n          isResizable = _this$props5.isResizable,\n          droppingPosition = _this$props5.droppingPosition,\n          useCSSTransforms = _this$props5.useCSSTransforms;\n      var pos = (0, _calculateUtils.calcGridItemPosition)(this.getPositionParams(), x, y, w, h, this.state);\n\n      var child = _react.default.Children.only(this.props.children); // Create the child element. We clone the existing element but modify its className and style.\n\n\n      var newChild = _react.default.cloneElement(child, {\n        className: (0, _classnames.default)(\"react-grid-item\", child.props.className, this.props.className, {\n          static: this.props.static,\n          resizing: Boolean(this.state.resizing),\n          \"react-draggable\": isDraggable,\n          \"react-draggable-dragging\": Boolean(this.state.dragging),\n          dropping: Boolean(droppingPosition),\n          cssTransforms: useCSSTransforms\n        }),\n        // We can set the width and height on the child, but unfortunately we can't set the position.\n        style: _objectSpread({}, this.props.style, {}, child.props.style, {}, this.createStyle(pos))\n      }); // Resizable support. This is usually on but the user can toggle it off.\n\n\n      newChild = this.mixinResizable(newChild, pos, isResizable); // Draggable support. This is always on, except for with placeholders.\n\n      newChild = this.mixinDraggable(newChild, isDraggable);\n      return newChild;\n    }\n  }]);\n\n  return GridItem;\n}(_react.default.Component);\n\nexports.default = GridItem;\n\n_defineProperty(GridItem, \"propTypes\", {\n  // Children must be only a single element\n  children: _propTypes.default.element,\n  // General grid attributes\n  cols: _propTypes.default.number.isRequired,\n  containerWidth: _propTypes.default.number.isRequired,\n  rowHeight: _propTypes.default.number.isRequired,\n  margin: _propTypes.default.array.isRequired,\n  maxRows: _propTypes.default.number.isRequired,\n  containerPadding: _propTypes.default.array.isRequired,\n  // These are all in grid units\n  x: _propTypes.default.number.isRequired,\n  y: _propTypes.default.number.isRequired,\n  w: _propTypes.default.number.isRequired,\n  h: _propTypes.default.number.isRequired,\n  // All optional\n  minW: function minW(props\n  /*: Props*/\n  , propName\n  /*: string*/\n  ) {\n    var value = props[propName];\n    if (typeof value !== \"number\") return new Error(\"minWidth not Number\");\n    if (value > props.w || value > props.maxW) return new Error(\"minWidth larger than item width/maxWidth\");\n  },\n  maxW: function maxW(props\n  /*: Props*/\n  , propName\n  /*: string*/\n  ) {\n    var value = props[propName];\n    if (typeof value !== \"number\") return new Error(\"maxWidth not Number\");\n    if (value < props.w || value < props.minW) return new Error(\"maxWidth smaller than item width/minWidth\");\n  },\n  minH: function minH(props\n  /*: Props*/\n  , propName\n  /*: string*/\n  ) {\n    var value = props[propName];\n    if (typeof value !== \"number\") return new Error(\"minHeight not Number\");\n    if (value > props.h || value > props.maxH) return new Error(\"minHeight larger than item height/maxHeight\");\n  },\n  maxH: function maxH(props\n  /*: Props*/\n  , propName\n  /*: string*/\n  ) {\n    var value = props[propName];\n    if (typeof value !== \"number\") return new Error(\"maxHeight not Number\");\n    if (value < props.h || value < props.minH) return new Error(\"maxHeight smaller than item height/minHeight\");\n  },\n  // ID is nice to have for callbacks\n  i: _propTypes.default.string.isRequired,\n  // Functions\n  onDragStop: _propTypes.default.func,\n  onDragStart: _propTypes.default.func,\n  onDrag: _propTypes.default.func,\n  onResizeStop: _propTypes.default.func,\n  onResizeStart: _propTypes.default.func,\n  onResize: _propTypes.default.func,\n  // Flags\n  isDraggable: _propTypes.default.bool.isRequired,\n  isResizable: _propTypes.default.bool.isRequired,\n  static: _propTypes.default.bool,\n  // Use CSS transforms instead of top/left\n  useCSSTransforms: _propTypes.default.bool.isRequired,\n  transformScale: _propTypes.default.number,\n  // Others\n  className: _propTypes.default.string,\n  // Selector for draggable handle\n  handle: _propTypes.default.string,\n  // Selector for draggable cancel (see react-draggable)\n  cancel: _propTypes.default.string,\n  // Current position of a dropping element\n  droppingPosition: _propTypes.default.shape({\n    e: _propTypes.default.object.isRequired,\n    left: _propTypes.default.number.isRequired,\n    top: _propTypes.default.number.isRequired\n  })\n});\n\n_defineProperty(GridItem, \"defaultProps\", {\n  className: \"\",\n  cancel: \"\",\n  handle: \"\",\n  minH: 1,\n  minW: 1,\n  maxH: Infinity,\n  maxW: Infinity,\n  transformScale: 1\n});","map":{"version":3,"sources":["/home/harry/project_thea/node_modules/react-grid-layout/build/GridItem.js"],"names":["Object","defineProperty","exports","value","default","_react","_interopRequireDefault","require","_reactDom","_propTypes","_reactDraggable","_reactResizable","_utils","_calculateUtils","_classnames","obj","__esModule","_typeof","Symbol","iterator","constructor","prototype","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","_classCallCheck","instance","Constructor","TypeError","_defineProperties","props","descriptor","configurable","writable","_createClass","protoProps","staticProps","_possibleConstructorReturn","self","call","_assertThisInitialized","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","ReferenceError","_inherits","subClass","superClass","create","_setPrototypeOf","p","GridItem","_React$Component","_getPrototypeOf2","_this","_len","args","Array","_key","concat","resizing","dragging","className","e","_ref","node","onDragStart","newPosition","top","left","offsetParent","parentRect","getBoundingClientRect","clientRect","cLeft","transformScale","pLeft","cTop","pTop","scrollLeft","scrollTop","setState","_calcXY","calcXY","getPositionParams","w","h","x","y","_ref2","deltaX","deltaY","_this$props","onDrag","state","Error","_calcXY2","_ref3","onDragStop","_calcXY3","callbackData","onResizeHandler","shouldComponentUpdate","nextProps","nextState","children","oldPosition","calcGridItemPosition","fastPositionEqual","useCSSTransforms","componentDidUpdate","prevProps","moveDroppingItem","droppingPosition","prevDroppingPosition","currentNode","findDOMNode","shouldDrag","undefined","cols","containerPadding","containerWidth","margin","maxRows","rowHeight","createStyle","pos","_this$props2","usePercentages","style","setTransform","setTopLeft","perc","width","mixinDraggable","child","isDraggable","createElement","DraggableCore","disabled","onStart","onStop","handle","cancel","scale","mixinResizable","position","isResizable","_this$props3","minW","minH","maxW","maxH","positionParams","maxWidth","mins","maxes","minConstraints","height","maxConstraints","Math","min","Infinity","Resizable","draggableOpts","onResizeStop","onResizeStart","onResize","_ref4","handlerName","size","handler","_this$props4","_calcWH","calcWH","max","render","_this$props5","Children","only","newChild","cloneElement","static","Boolean","dropping","cssTransforms","Component","element","number","isRequired","array","propName","string","func","bool","shape"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactDom = _interopRequireDefault(require(\"react-dom\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _reactDraggable = require(\"react-draggable\");\n\nvar _reactResizable = require(\"react-resizable\");\n\nvar _utils = require(\"./utils\");\n\nvar _calculateUtils = require(\"./calculateUtils\");\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/**\n * An individual item within a ReactGridLayout.\n */\nvar GridItem =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(GridItem, _React$Component);\n\n  function GridItem() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, GridItem);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(GridItem)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      resizing: null,\n      dragging: null,\n      className: \"\"\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"currentNode\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"onDragStart\", function (e\n    /*: Event*/\n    , _ref) {\n      var node = _ref.node;\n      if (!_this.props.onDragStart) return;\n      var newPosition\n      /*: PartialPosition*/\n      = {\n        top: 0,\n        left: 0\n      }; // TODO: this wont work on nested parents\n\n      var offsetParent = node.offsetParent;\n      if (!offsetParent) return;\n      var parentRect = offsetParent.getBoundingClientRect();\n      var clientRect = node.getBoundingClientRect();\n      var cLeft = clientRect.left / _this.props.transformScale;\n      var pLeft = parentRect.left / _this.props.transformScale;\n      var cTop = clientRect.top / _this.props.transformScale;\n      var pTop = parentRect.top / _this.props.transformScale;\n      newPosition.left = cLeft - pLeft + offsetParent.scrollLeft;\n      newPosition.top = cTop - pTop + offsetParent.scrollTop;\n\n      _this.setState({\n        dragging: newPosition\n      });\n\n      var _calcXY = (0, _calculateUtils.calcXY)(_this.getPositionParams(), newPosition.top, newPosition.left, _this.props.w, _this.props.h),\n          x = _calcXY.x,\n          y = _calcXY.y;\n\n      return _this.props.onDragStart && _this.props.onDragStart.call(_assertThisInitialized(_this), _this.props.i, x, y, {\n        e: e,\n        node: node,\n        newPosition: newPosition\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDrag\", function (e\n    /*: Event*/\n    , _ref2) {\n      var node = _ref2.node,\n          deltaX = _ref2.deltaX,\n          deltaY = _ref2.deltaY;\n      var _this$props = _this.props,\n          onDrag = _this$props.onDrag,\n          transformScale = _this$props.transformScale;\n      if (!onDrag) return;\n      deltaX /= transformScale;\n      deltaY /= transformScale;\n      var newPosition\n      /*: PartialPosition*/\n      = {\n        top: 0,\n        left: 0\n      };\n      if (!_this.state.dragging) throw new Error(\"onDrag called before onDragStart.\");\n      newPosition.left = _this.state.dragging.left + deltaX;\n      newPosition.top = _this.state.dragging.top + deltaY;\n\n      _this.setState({\n        dragging: newPosition\n      });\n\n      var _calcXY2 = (0, _calculateUtils.calcXY)(_this.getPositionParams(), newPosition.top, newPosition.left, _this.props.w, _this.props.h),\n          x = _calcXY2.x,\n          y = _calcXY2.y;\n\n      return onDrag && onDrag.call(_assertThisInitialized(_this), _this.props.i, x, y, {\n        e: e,\n        node: node,\n        newPosition: newPosition\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDragStop\", function (e\n    /*: Event*/\n    , _ref3) {\n      var node = _ref3.node;\n      if (!_this.props.onDragStop) return;\n      var newPosition\n      /*: PartialPosition*/\n      = {\n        top: 0,\n        left: 0\n      };\n      if (!_this.state.dragging) throw new Error(\"onDragEnd called before onDragStart.\");\n      newPosition.left = _this.state.dragging.left;\n      newPosition.top = _this.state.dragging.top;\n\n      _this.setState({\n        dragging: null\n      });\n\n      var _calcXY3 = (0, _calculateUtils.calcXY)(_this.getPositionParams(), newPosition.top, newPosition.left, _this.props.w, _this.props.h),\n          x = _calcXY3.x,\n          y = _calcXY3.y;\n\n      return _this.props.onDragStop && _this.props.onDragStop.call(_assertThisInitialized(_this), _this.props.i, x, y, {\n        e: e,\n        node: node,\n        newPosition: newPosition\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onResizeStop\", function (e\n    /*: Event*/\n    , callbackData\n    /*: { node: HTMLElement, size: Position }*/\n    ) {\n      _this.onResizeHandler(e, callbackData, \"onResizeStop\");\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onResizeStart\", function (e\n    /*: Event*/\n    , callbackData\n    /*: { node: HTMLElement, size: Position }*/\n    ) {\n      _this.onResizeHandler(e, callbackData, \"onResizeStart\");\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onResize\", function (e\n    /*: Event*/\n    , callbackData\n    /*: { node: HTMLElement, size: Position }*/\n    ) {\n      _this.onResizeHandler(e, callbackData, \"onResize\");\n    });\n\n    return _this;\n  }\n\n  _createClass(GridItem, [{\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps\n    /*: Props*/\n    , nextState\n    /*: State*/\n    ) {\n      // We can't deeply compare children. If the developer memoizes them, we can\n      // use this optimization.\n      if (this.props.children !== nextProps.children) return true; // TODO memoize these calculations so they don't take so long?\n\n      var oldPosition = (0, _calculateUtils.calcGridItemPosition)(this.getPositionParams(this.props), this.props.x, this.props.y, this.props.w, this.props.h, this.state);\n      var newPosition = (0, _calculateUtils.calcGridItemPosition)(this.getPositionParams(nextProps), nextProps.x, nextProps.y, nextProps.w, nextProps.h, nextState);\n      return !(0, _utils.fastPositionEqual)(oldPosition, newPosition) || this.props.useCSSTransforms !== nextProps.useCSSTransforms;\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps\n    /*: Props*/\n    ) {\n      this.moveDroppingItem(prevProps);\n    } // When a droppingPosition is present, this means we should fire a move event, as if we had moved\n    // this element by `x, y` pixels.\n\n  }, {\n    key: \"moveDroppingItem\",\n    value: function moveDroppingItem(prevProps\n    /*: Props*/\n    ) {\n      var droppingPosition = this.props.droppingPosition;\n      var prevDroppingPosition = prevProps.droppingPosition;\n      var dragging = this.state.dragging;\n\n      if (!droppingPosition || !prevDroppingPosition) {\n        return;\n      }\n\n      if (!this.currentNode) {\n        // eslint-disable-next-line react/no-find-dom-node\n        this.currentNode = ((_reactDom.default.findDOMNode(this)\n        /*: any*/\n        )\n        /*: HTMLElement*/\n        );\n      }\n\n      var shouldDrag = dragging && droppingPosition.left !== prevDroppingPosition.left || droppingPosition.top !== prevDroppingPosition.top;\n\n      if (!dragging) {\n        this.onDragStart(droppingPosition.e, {\n          node: this.currentNode,\n          deltaX: droppingPosition.left,\n          deltaY: droppingPosition.top\n        });\n      } else if (shouldDrag) {\n        var deltaX = droppingPosition.left - dragging.left;\n        var deltaY = droppingPosition.top - dragging.top;\n        this.onDrag(droppingPosition.e, {\n          node: this.currentNode,\n          deltaX: deltaX,\n          deltaY: deltaY\n        });\n      }\n    }\n  }, {\n    key: \"getPositionParams\",\n    value: function getPositionParams()\n    /*: PositionParams*/\n    {\n      var props\n      /*: Props*/\n      = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.props;\n      return {\n        cols: props.cols,\n        containerPadding: props.containerPadding,\n        containerWidth: props.containerWidth,\n        margin: props.margin,\n        maxRows: props.maxRows,\n        rowHeight: props.rowHeight\n      };\n    }\n    /**\n     * This is where we set the grid item's absolute placement. It gets a little tricky because we want to do it\n     * well when server rendering, and the only way to do that properly is to use percentage width/left because\n     * we don't know exactly what the browser viewport is.\n     * Unfortunately, CSS Transforms, which are great for performance, break in this instance because a percentage\n     * left is relative to the item itself, not its container! So we cannot use them on the server rendering pass.\n     *\n     * @param  {Object} pos Position object with width, height, left, top.\n     * @return {Object}     Style object.\n     */\n\n  }, {\n    key: \"createStyle\",\n    value: function createStyle(pos\n    /*: Position*/\n    )\n    /*: { [key: string]: ?string }*/\n    {\n      var _this$props2 = this.props,\n          usePercentages = _this$props2.usePercentages,\n          containerWidth = _this$props2.containerWidth,\n          useCSSTransforms = _this$props2.useCSSTransforms;\n      var style; // CSS Transforms support (default)\n\n      if (useCSSTransforms) {\n        style = (0, _utils.setTransform)(pos);\n      } else {\n        // top,left (slow)\n        style = (0, _utils.setTopLeft)(pos); // This is used for server rendering.\n\n        if (usePercentages) {\n          style.left = (0, _utils.perc)(pos.left / containerWidth);\n          style.width = (0, _utils.perc)(pos.width / containerWidth);\n        }\n      }\n\n      return style;\n    }\n    /**\n     * Mix a Draggable instance into a child.\n     * @param  {Element} child    Child element.\n     * @return {Element}          Child wrapped in Draggable.\n     */\n\n  }, {\n    key: \"mixinDraggable\",\n    value: function mixinDraggable(child\n    /*: ReactElement<any>*/\n    , isDraggable\n    /*: boolean*/\n    )\n    /*: ReactElement<any>*/\n    {\n      return _react.default.createElement(_reactDraggable.DraggableCore, {\n        disabled: !isDraggable,\n        onStart: this.onDragStart,\n        onDrag: this.onDrag,\n        onStop: this.onDragStop,\n        handle: this.props.handle,\n        cancel: \".react-resizable-handle\" + (this.props.cancel ? \",\" + this.props.cancel : \"\"),\n        scale: this.props.transformScale\n      }, child);\n    }\n    /**\n     * Mix a Resizable instance into a child.\n     * @param  {Element} child    Child element.\n     * @param  {Object} position  Position object (pixel values)\n     * @return {Element}          Child wrapped in Resizable.\n     */\n\n  }, {\n    key: \"mixinResizable\",\n    value: function mixinResizable(child\n    /*: ReactElement<any>*/\n    , position\n    /*: Position*/\n    , isResizable\n    /*: boolean*/\n    )\n    /*: ReactElement<any>*/\n    {\n      var _this$props3 = this.props,\n          cols = _this$props3.cols,\n          x = _this$props3.x,\n          minW = _this$props3.minW,\n          minH = _this$props3.minH,\n          maxW = _this$props3.maxW,\n          maxH = _this$props3.maxH,\n          transformScale = _this$props3.transformScale;\n      var positionParams = this.getPositionParams(); // This is the max possible width - doesn't go to infinity because of the width of the window\n\n      var maxWidth = (0, _calculateUtils.calcGridItemPosition)(positionParams, 0, 0, cols - x, 0).width; // Calculate min/max constraints using our min & maxes\n\n      var mins = (0, _calculateUtils.calcGridItemPosition)(positionParams, 0, 0, minW, minH);\n      var maxes = (0, _calculateUtils.calcGridItemPosition)(positionParams, 0, 0, maxW, maxH);\n      var minConstraints = [mins.width, mins.height];\n      var maxConstraints = [Math.min(maxes.width, maxWidth), Math.min(maxes.height, Infinity)];\n      return _react.default.createElement(_reactResizable.Resizable, {\n        draggableOpts: {\n          disabled: !isResizable\n        },\n        className: isResizable ? undefined : \"react-resizable-hide\",\n        width: position.width,\n        height: position.height,\n        minConstraints: minConstraints,\n        maxConstraints: maxConstraints,\n        onResizeStop: this.onResizeStop,\n        onResizeStart: this.onResizeStart,\n        onResize: this.onResize,\n        transformScale: transformScale\n      }, child);\n    }\n    /**\n     * onDragStart event handler\n     * @param  {Event}  e             event data\n     * @param  {Object} callbackData  an object with node, delta and position information\n     */\n\n  }, {\n    key: \"onResizeHandler\",\n\n    /**\n     * Wrapper around drag events to provide more useful data.\n     * All drag events call the function with the given handler name,\n     * with the signature (index, x, y).\n     *\n     * @param  {String} handlerName Handler name to wrap.\n     * @return {Function}           Handler function.\n     */\n    value: function onResizeHandler(e\n    /*: Event*/\n    , _ref4, handlerName\n    /*: string*/\n    ) {\n      var node = _ref4.node,\n          size = _ref4.size;\n      var handler = this.props[handlerName];\n      if (!handler) return;\n      var _this$props4 = this.props,\n          cols = _this$props4.cols,\n          x = _this$props4.x,\n          y = _this$props4.y,\n          i = _this$props4.i,\n          maxW = _this$props4.maxW,\n          minW = _this$props4.minW,\n          maxH = _this$props4.maxH,\n          minH = _this$props4.minH; // Get new XY\n\n      var _calcWH = (0, _calculateUtils.calcWH)(this.getPositionParams(), size.width, size.height, x, y),\n          w = _calcWH.w,\n          h = _calcWH.h; // Cap w at numCols\n\n\n      w = Math.min(w, cols - x); // Ensure w is at least 1\n\n      w = Math.max(w, 1); // Min/max capping\n\n      w = Math.max(Math.min(w, maxW), minW);\n      h = Math.max(Math.min(h, maxH), minH);\n      this.setState({\n        resizing: handlerName === \"onResizeStop\" ? null : size\n      });\n      handler.call(this, i, w, h, {\n        e: e,\n        node: node,\n        size: size\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render()\n    /*: ReactNode*/\n    {\n      var _this$props5 = this.props,\n          x = _this$props5.x,\n          y = _this$props5.y,\n          w = _this$props5.w,\n          h = _this$props5.h,\n          isDraggable = _this$props5.isDraggable,\n          isResizable = _this$props5.isResizable,\n          droppingPosition = _this$props5.droppingPosition,\n          useCSSTransforms = _this$props5.useCSSTransforms;\n      var pos = (0, _calculateUtils.calcGridItemPosition)(this.getPositionParams(), x, y, w, h, this.state);\n\n      var child = _react.default.Children.only(this.props.children); // Create the child element. We clone the existing element but modify its className and style.\n\n\n      var newChild = _react.default.cloneElement(child, {\n        className: (0, _classnames.default)(\"react-grid-item\", child.props.className, this.props.className, {\n          static: this.props.static,\n          resizing: Boolean(this.state.resizing),\n          \"react-draggable\": isDraggable,\n          \"react-draggable-dragging\": Boolean(this.state.dragging),\n          dropping: Boolean(droppingPosition),\n          cssTransforms: useCSSTransforms\n        }),\n        // We can set the width and height on the child, but unfortunately we can't set the position.\n        style: _objectSpread({}, this.props.style, {}, child.props.style, {}, this.createStyle(pos))\n      }); // Resizable support. This is usually on but the user can toggle it off.\n\n\n      newChild = this.mixinResizable(newChild, pos, isResizable); // Draggable support. This is always on, except for with placeholders.\n\n      newChild = this.mixinDraggable(newChild, isDraggable);\n      return newChild;\n    }\n  }]);\n\n  return GridItem;\n}(_react.default.Component);\n\nexports.default = GridItem;\n\n_defineProperty(GridItem, \"propTypes\", {\n  // Children must be only a single element\n  children: _propTypes.default.element,\n  // General grid attributes\n  cols: _propTypes.default.number.isRequired,\n  containerWidth: _propTypes.default.number.isRequired,\n  rowHeight: _propTypes.default.number.isRequired,\n  margin: _propTypes.default.array.isRequired,\n  maxRows: _propTypes.default.number.isRequired,\n  containerPadding: _propTypes.default.array.isRequired,\n  // These are all in grid units\n  x: _propTypes.default.number.isRequired,\n  y: _propTypes.default.number.isRequired,\n  w: _propTypes.default.number.isRequired,\n  h: _propTypes.default.number.isRequired,\n  // All optional\n  minW: function minW(props\n  /*: Props*/\n  , propName\n  /*: string*/\n  ) {\n    var value = props[propName];\n    if (typeof value !== \"number\") return new Error(\"minWidth not Number\");\n    if (value > props.w || value > props.maxW) return new Error(\"minWidth larger than item width/maxWidth\");\n  },\n  maxW: function maxW(props\n  /*: Props*/\n  , propName\n  /*: string*/\n  ) {\n    var value = props[propName];\n    if (typeof value !== \"number\") return new Error(\"maxWidth not Number\");\n    if (value < props.w || value < props.minW) return new Error(\"maxWidth smaller than item width/minWidth\");\n  },\n  minH: function minH(props\n  /*: Props*/\n  , propName\n  /*: string*/\n  ) {\n    var value = props[propName];\n    if (typeof value !== \"number\") return new Error(\"minHeight not Number\");\n    if (value > props.h || value > props.maxH) return new Error(\"minHeight larger than item height/maxHeight\");\n  },\n  maxH: function maxH(props\n  /*: Props*/\n  , propName\n  /*: string*/\n  ) {\n    var value = props[propName];\n    if (typeof value !== \"number\") return new Error(\"maxHeight not Number\");\n    if (value < props.h || value < props.minH) return new Error(\"maxHeight smaller than item height/minHeight\");\n  },\n  // ID is nice to have for callbacks\n  i: _propTypes.default.string.isRequired,\n  // Functions\n  onDragStop: _propTypes.default.func,\n  onDragStart: _propTypes.default.func,\n  onDrag: _propTypes.default.func,\n  onResizeStop: _propTypes.default.func,\n  onResizeStart: _propTypes.default.func,\n  onResize: _propTypes.default.func,\n  // Flags\n  isDraggable: _propTypes.default.bool.isRequired,\n  isResizable: _propTypes.default.bool.isRequired,\n  static: _propTypes.default.bool,\n  // Use CSS transforms instead of top/left\n  useCSSTransforms: _propTypes.default.bool.isRequired,\n  transformScale: _propTypes.default.number,\n  // Others\n  className: _propTypes.default.string,\n  // Selector for draggable handle\n  handle: _propTypes.default.string,\n  // Selector for draggable cancel (see react-draggable)\n  cancel: _propTypes.default.string,\n  // Current position of a dropping element\n  droppingPosition: _propTypes.default.shape({\n    e: _propTypes.default.object.isRequired,\n    left: _propTypes.default.number.isRequired,\n    top: _propTypes.default.number.isRequired\n  })\n});\n\n_defineProperty(GridItem, \"defaultProps\", {\n  className: \"\",\n  cancel: \"\",\n  handle: \"\",\n  minH: 1,\n  minW: 1,\n  maxH: Infinity,\n  maxW: Infinity,\n  transformScale: 1\n});"]},"metadata":{},"sourceType":"script"}