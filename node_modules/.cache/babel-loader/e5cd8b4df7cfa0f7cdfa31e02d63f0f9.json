{"ast":null,"code":"var _jsxFileName = \"/home/harry/project_thea/src/components/alert.js\";\nimport React from \"react\";\nimport { sensor_data, alert_data } from \"../fake_data/fake_data\";\nimport Card from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Typography from \"@material-ui/core/Typography\";\nimport CardActions from \"@material-ui/core/CardActions\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from '@material-ui/core/TextField';\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Input from '@material-ui/core/Input';\nimport FormControl from '@material-ui/core/FormControl';\n\nclass AlertSummaryCard extends React.Component {\n  render() {\n    // Deconstruct props.\n    const _this$props = this.props,\n          alert_name = _this$props.alert_name,\n          alert_id = _this$props.alert_id,\n          cb_remove_alert = _this$props.cb_remove_alert; // Find the alert with the right name.\n\n    const alert = alert_data.filter(alert => alert.name === alert_name)[0]; // Find the associated sensor with the right name.\n\n    const sensor = sensor_data.filter(sensor => sensor.id === alert.sensor)[0];\n    return React.createElement(\"div\", {\n      style: {\n        paddingTop: '20px',\n        width: '100%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    }, React.createElement(Card, {\n      style: {\n        width: '100%',\n        backgroundColor: '#EEEEEE'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }, React.createElement(CardContent, {\n      style: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'flex-start'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }, React.createElement(Typography, {\n      variant: \"h5\",\n      component: \"h2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, alert_name), React.createElement(Typography, {\n      color: \"textSecondary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, \"You will receive \", alert.notification_medium, \" when the sensor \", sensor.name, \" \", alert.trigger, \" \", alert.target, \".\")), React.createElement(CardActions, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, React.createElement(Button, {\n      size: \"small\",\n      onClick: () => cb_remove_alert(alert_id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, \"Delete\"))));\n  }\n\n}\n\nclass CreateAlertDialog extends React.Component {\n  constructor(props) {\n    super();\n\n    this.handleNameChange = e => {\n      this.setState({\n        name: e.target.value\n      });\n    };\n\n    this.handleSensorChange = e => {\n      // Find the sensor with the right id.\n      const sensor = this.props.sensors.filter(sensor => sensor.id == e.target.value)[0];\n      this.setState({\n        sensor: sensor\n      });\n    };\n\n    this.state = {\n      open: false,\n      name: \"\",\n      sensor: props.sensors[0],\n      notification_medium: '',\n      notification_medium_options: ['email', 'text']\n    };\n  }\n\n  handleNotificationMediumChange(e) {\n    console.log(e.target.value);\n    this.setState({\n      notification_medium: e.target.value\n    });\n  }\n\n  handleClickOpen() {\n    this.setState(state => {\n      return {\n        open: true\n      };\n    });\n  }\n\n  handleClose() {\n    this.setState(state => {\n      return {\n        open: false,\n        name: \"\"\n      };\n    });\n  }\n\n  handleCreate() {\n    if (this.state.name !== \"\") {\n      this.setState(state => {\n        return {\n          open: false,\n          name: \"\"\n        };\n      });\n      this.props.cb_add_alert(this.state.name);\n    }\n  }\n\n  render() {\n    console.log(this.state.sensor.name);\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, React.createElement(Button, {\n      variant: \"outlined\",\n      color: \"primary\",\n      onClick: this.handleClickOpen.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, \"Create New Alert\"), React.createElement(Dialog, {\n      disableBackdropClick: true,\n      disableEscapeKeyDown: true,\n      open: this.state.open,\n      onClose: this.handleClose.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, React.createElement(DialogTitle, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, \"Create Alert\"), React.createElement(DialogContent, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      style: {\n        display: 'flex',\n        flexDirection: 'column'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, React.createElement(FormControl, {\n      style: {\n        paddingBottom: '20px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, React.createElement(TextField, {\n      id: \"alert-name\",\n      label: \"Alert Name\",\n      value: this.state.name,\n      onChange: this.handleNameChange.bind(this),\n      variant: \"outlined\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    })), React.createElement(FormControl, {\n      style: {\n        paddingBottom: '20px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, React.createElement(InputLabel, {\n      htmlFor: \"demo-dialog-native\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, \"Sensor\"), React.createElement(Select, {\n      native: true,\n      value: this.state.sensor.name,\n      onChange: this.handleSensorChange.bind(this),\n      input: React.createElement(Input, {\n        id: \"demo-dialog-native\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, this.props.sensors.map(sensor => React.createElement(\"option\", {\n      value: sensor.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, sensor.name)))), React.createElement(FormControl, {\n      style: {\n        paddingBottom: '20px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, React.createElement(DialogContentText, {\n      id: \"alert-dialog-description\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, \"This sensor is of type: \", this.state.sensor.type)), React.createElement(FormControl, {\n      style: {\n        paddingBottom: '20px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, React.createElement(InputLabel, {\n      htmlFor: \"demo-dialog-native\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, \"Notification\"), React.createElement(Select, {\n      native: true,\n      value: this.state.notification_medium,\n      onChange: this.handleNotificationMediumChange.bind(this),\n      input: React.createElement(Input, {\n        id: \"demo-dialog-native\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, this.state.notification_medium_options.map(medium => React.createElement(\"option\", {\n      value: medium,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, medium)))), React.createElement(FormControl, {\n      style: {\n        paddingBottom: '20px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }, React.createElement(TextField, {\n      id: \"alert-name\",\n      label: \"Alert Name\",\n      value: this.state.name,\n      onChange: this.handleNameChange.bind(this),\n      variant: \"outlined\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    })))), React.createElement(DialogActions, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, React.createElement(Button, {\n      onClick: this.handleClose.bind(this),\n      color: \"primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, \"Cancel\"), React.createElement(Button, {\n      onClick: this.handleCreate.bind(this),\n      color: \"primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }, \"Create\"))));\n  }\n\n}\n\nexport { AlertSummaryCard, CreateAlertDialog };","map":{"version":3,"sources":["/home/harry/project_thea/src/components/alert.js"],"names":["React","sensor_data","alert_data","Card","CardContent","Typography","CardActions","Button","TextField","Select","MenuItem","DialogActions","DialogContent","DialogContentText","Dialog","DialogTitle","InputLabel","Input","FormControl","AlertSummaryCard","Component","render","props","alert_name","alert_id","cb_remove_alert","alert","filter","name","sensor","id","paddingTop","width","backgroundColor","display","flexDirection","alignItems","notification_medium","trigger","target","CreateAlertDialog","constructor","handleNameChange","e","setState","value","handleSensorChange","sensors","state","open","notification_medium_options","handleNotificationMediumChange","console","log","handleClickOpen","handleClose","handleCreate","cb_add_alert","bind","paddingBottom","map","type","medium"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport {sensor_data, alert_data} from \"../fake_data/fake_data\";\nimport Card from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Typography from \"@material-ui/core/Typography\";\nimport CardActions from \"@material-ui/core/CardActions\";\nimport Button from \"@material-ui/core/Button\";\n\nimport TextField from '@material-ui/core/TextField';\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\n\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\n\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Input from '@material-ui/core/Input';\nimport FormControl from '@material-ui/core/FormControl';\n\n\nclass AlertSummaryCard extends React.Component {\n    render() {\n\n        // Deconstruct props.\n        const { alert_name, alert_id, cb_remove_alert } = this.props;\n\n        // Find the alert with the right name.\n        const alert = alert_data.filter(alert => alert.name === alert_name)[0];\n\n        // Find the associated sensor with the right name.\n        const sensor = sensor_data.filter(sensor => sensor.id === alert.sensor)[0];\n\n        return (\n            <div style={{paddingTop: '20px', width: '100%'}}>\n                <Card style={{width: '100%', backgroundColor: '#EEEEEE'}}>\n                  <CardContent style={{display: 'flex', flexDirection: 'column', alignItems: 'flex-start'}}>\n                      <Typography variant=\"h5\" component=\"h2\">\n                          {alert_name}\n                      </Typography>\n                      <Typography color=\"textSecondary\">\n                          You will receive {alert.notification_medium} when the sensor {sensor.name} {alert.trigger} {alert.target}.\n                    </Typography>\n                  </CardContent>\n                  <CardActions>\n                    <Button size=\"small\" onClick={() => cb_remove_alert(alert_id)}>Delete</Button>\n                  </CardActions>\n                </Card>\n            </div>\n        )\n    }\n}\n\nclass CreateAlertDialog extends React.Component {\n\n    constructor(props) {\n        super();\n        this.state = {\n            open: false,\n            name: \"\",\n            sensor: props.sensors[0],\n            notification_medium: '',\n            notification_medium_options: ['email', 'text']\n        };\n\n    }\n\n    handleNotificationMediumChange(e) {\n        console.log(e.target.value)\n        this.setState({\n            notification_medium: e.target.value\n        });\n    }\n\n    handleClickOpen()  {\n        this.setState((state) => {\n            return {open: true}\n        })\n    }\n\n    handleNameChange = (e) => {\n        this.setState({\n            name: e.target.value,\n        });\n    };\n\n    handleSensorChange = (e) => {\n\n        // Find the sensor with the right id.\n        const sensor = this.props.sensors.filter(sensor => sensor.id == e.target.value)[0];\n\n        this.setState({\n            sensor: sensor\n        });\n    };\n\n    handleClose() {\n        this.setState((state) => {\n            return {open: false, name: \"\"}\n        })\n    }\n\n    handleCreate() {\n        if (this.state.name !== \"\") {\n            this.setState((state) => {\n                return {open: false, name: \"\"}\n            });\n            this.props.cb_add_alert(this.state.name);\n        }\n    }\n\n    render() {\n        console.log(this.state.sensor.name)\n        return (\n            <div>\n                <Button variant=\"outlined\" color=\"primary\" onClick={this.handleClickOpen.bind(this)}>\n                    Create New Alert\n                </Button>\n                <Dialog disableBackdropClick disableEscapeKeyDown open={this.state.open} onClose={this.handleClose.bind(this)}>\n                    <DialogTitle>Create Alert</DialogTitle>\n                    <DialogContent>\n                        <form style={{display: 'flex', flexDirection: 'column'}}>\n                            <FormControl style={{paddingBottom: '20px'}}>\n                                <TextField\n                                    id=\"alert-name\"\n                                    label=\"Alert Name\"\n                                    value={this.state.name}\n                                    onChange={this.handleNameChange.bind(this)}\n                                    variant=\"outlined\"\n                                />\n                            </FormControl>\n                            <FormControl style={{paddingBottom: '20px'}}>\n                                <InputLabel htmlFor=\"demo-dialog-native\">Sensor</InputLabel>\n                                <Select\n                                    native\n                                    value={this.state.sensor.name}\n                                    onChange={this.handleSensorChange.bind(this)}\n                                    input={<Input id=\"demo-dialog-native\" />}\n                                >\n                                    {this.props.sensors.map(sensor => (\n                                        <option value={sensor.id}>{sensor.name}</option>\n                                    ))}\n                                </Select>\n                            </FormControl>\n                            <FormControl style={{paddingBottom: '20px'}}>\n                                <DialogContentText id=\"alert-dialog-description\">\n                                    This sensor is of type: {this.state.sensor.type}\n                                </DialogContentText>\n                            </FormControl>\n                            <FormControl style={{paddingBottom: '20px'}}>\n                                <InputLabel htmlFor=\"demo-dialog-native\">Notification</InputLabel>\n                                <Select\n                                    native\n                                    value={this.state.notification_medium}\n                                    onChange={this.handleNotificationMediumChange.bind(this)}\n                                    input={<Input id=\"demo-dialog-native\" />}\n                                >\n                                    {this.state.notification_medium_options.map(medium => (\n                                        <option value={medium}>{medium}</option>\n                                    ))}\n                                </Select>\n                            </FormControl>\n                            <FormControl style={{paddingBottom: '20px'}}>\n                                <TextField\n                                    id=\"alert-name\"\n                                    label=\"Alert Name\"\n                                    value={this.state.name}\n                                    onChange={this.handleNameChange.bind(this)}\n                                    variant=\"outlined\"\n                                />\n                            </FormControl>\n                        </form>\n                    </DialogContent>\n                    <DialogActions>\n                        <Button onClick={this.handleClose.bind(this)} color=\"primary\">Cancel</Button>\n                        <Button onClick={this.handleCreate.bind(this)} color=\"primary\">Create</Button>\n                    </DialogActions>\n                </Dialog>\n            </div>\n        )\n    }\n}\n\nexport { AlertSummaryCard, CreateAlertDialog };"]},"metadata":{},"sourceType":"module"}